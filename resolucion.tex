\documentclass[a4paper]{article}

\usepackage[spanish]{babel} % Le indicamos a LaTeX que vamos a escribir en español.
\usepackage[latin1]{inputenc} % Permite utilizar tildes y eñes normalmente
%\usepackage{framed}
\input{Algo1Macros}% Macros especificas para especificar problemas en AyEDI
\usepackage{listings}
\usepackage{color}
\usepackage{caption}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{myred}{rgb}{0.8,0.1,0.2}

% Configuracion de listings
\lstset{
  language=C++,                   % choose the language of the code
  numbers=left,                   % where to put the line-numbers
  numbersep=10pt,                 % how far the line-numbers are from the code
  backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
  tabsize=4,                      % sets default tabsize to 2 spaces
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=true,         % sets if automatic breaks should only happen at whitespace
  title=\lstname,                 % show the filename of files included with \lstinputlisting;
  showstringspaces=false,          % underline spaces within strings only
  basicstyle=\ttfamily,
  commentstyle=\color{mygreen},    % comment style
  keywordstyle=\color{blue},       % keyword style
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  stringstyle=\color{mymauve},     % string literal style
}

\DeclareCaptionFont{white}{ \color{white} }
\DeclareCaptionFormat{listing}{
  \colorbox[cmyk]{0.43, 0.35, 0.35,0.01 }{
    \parbox{\textwidth}{\hspace{15pt}#1#2#3}
  }
}
\captionsetup[lstlisting]{ format=listing, labelfont=white, textfont=white, singlelinecheck=false, margin=0pt, font={bf,normalsize} }

\newcommand{\comen}[2]{%
\begin{framed}
\noindent \textsf{#1:} #2
\end{framed}
}

\begin{document} % Todo lo que escribamos a partir de aca va a aparecer en el documento.

\section{Código}

\lstinputlisting{src/fatFood.cpp}
\lstinputlisting{src/tipos.h}
\lstinputlisting{src/combo.h}
\lstinputlisting{src/combo.cpp}
\lstinputlisting{src/pedido.h}
\lstinputlisting{src/pedido.cpp}
\lstinputlisting{src/local.h}
\lstinputlisting{src/local.cpp}
\lstinputlisting{src/auxiliar.h}
\lstinputlisting{src/auxiliar.cpp}

\section{Demostraciones}


Demostración del problema 'elVagonetaL':


$ \\ P_c : Vago==0 \land n==|empYdes| \land i==1 \newline empYdes==[(empleadosL(this)_j,descansoMasLargo(this,empleadosL(this)_j)) | j \selec [0..|empleadosL(this)|) ]$
$\newline$
$  Q_c : (\forall j \selec [0..|empleadosL(this)|) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) \land n==|empYdes|$
$\newline$
$  I : 0 \leq i \leq n \land n==|empYdes| \land (\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) $
$\newline$
$ B: i < n $
$\newline$
$  cota : n-1$
$\newline$
$ fv: i $

$ \\ P_c \land B \implica I :$ Por $P_c$ sabemos que $i==1$ y por $B$ sabemos que $i < n$, lo que implica $0 \leq i \leq n$. También, dado que $i==1$, lo que nos queda que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0] ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) $. Ahora, preguntar eso es lo mismo que preguntar $snd(empleadosL(this)_0) \leq snd(empleadosL(this)_{vago})$, y como sabemos por $P_c$ que $vago == 0$, nos queda $\newline snd(empleadosL(this)_0) \leq snd(empleadosL(this)_0)$; que es una verdad (en particular, son iguales). Entonces puedo decir que $ P_c \land B \Rightarrow I :$.
$\newline$
$\\ I \land \neg B \implica Q_c :$ Por $\neg B$ sabemos que $i\geq n$ y por $I$ sabemos que $i \leq n$, entonces $i==n$. También sabemos por $I$ que $n==|empYdes|$, lo que nos queda que $i==|empYdes|$. Por $I$ sabemos que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ y por lo dicho recién sobre $i$, podemos decir que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0..|empYdes|) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$; y entonces nos queda que $I \land \neg B \implica Q_c $
$\newline$
$\\ I \land cota < fv \implica \neg B :$ Esto es lo mismo que decir que si se cumple el invariante y $n-1 < i$ entonces se niega la guarda. Sabemos que $i \in [0..n]$

\end{document} %Terminé!

