\documentclass[a4paper]{article}

\usepackage[spanish]{babel} % Le indicamos a LaTeX que vamos a escribir en español.
\usepackage[latin1]{inputenc} % Permite utilizar tildes y eñes normalmente
%\usepackage{framed}
\input{Algo1Macros}% Macros especificas para especificar problemas en AyEDI
\usepackage{listings}
\usepackage{color}
\usepackage{caption}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{myred}{rgb}{0.8,0.1,0.2}

% Configuracion de listings
\lstset{
  language=C++,                   % choose the language of the code
  numbers=left,                   % where to put the line-numbers
  numbersep=10pt,                 % how far the line-numbers are from the code
  backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
  tabsize=4,                      % sets default tabsize to 2 spaces
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=true,         % sets if automatic breaks should only happen at whitespace
  title=\lstname,                 % show the filename of files included with \lstinputlisting;
  showstringspaces=false,          % underline spaces within strings only
  basicstyle=\ttfamily,
  commentstyle=\color{mygreen},    % comment style
  keywordstyle=\color{blue},       % keyword style
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  stringstyle=\color{mymauve},     % string literal style
}

\DeclareCaptionFont{white}{ \color{white} }
\DeclareCaptionFormat{listing}{
  \colorbox[cmyk]{0.43, 0.35, 0.35,0.01 }{
    \parbox{\textwidth}{\hspace{15pt}#1#2#3}
  }
}
\captionsetup[lstlisting]{ format=listing, labelfont=white, textfont=white, singlelinecheck=false, margin=0pt, font={bf,normalsize} }

\newcommand{\comen}[2]{%
\begin{framed}
\noindent \textsf{#1:} #2
\end{framed}
}

\begin{document} % Todo lo que escribamos a partir de aca va a aparecer en el documento.

\section{Código}

\lstinputlisting{src/fatFood.cpp}
\lstinputlisting{src/tipos.h}
\lstinputlisting{src/combo.h}
\lstinputlisting{src/combo.cpp}
\lstinputlisting{src/pedido.h}
\lstinputlisting{src/pedido.cpp}
\lstinputlisting{src/local.h}
\lstinputlisting{src/local.cpp}
\lstinputlisting{src/auxiliar.h}
\lstinputlisting{src/auxiliar.cpp}

\section{Demostraciones}


\subsection{Demostración del problema 'elVagonetaL'}


$ \\ P_c : Vago==0 \land n==|empYdes| \land i==1 \newline empYdes==[(empleadosL(this)_j,descansoMasLargo(this,empleadosL(this)_j)) | j \selec [0..|empleadosL(this)|) ]$
$\newline$
$  Q_c : (\forall j \selec [0..|empleadosL(this)|) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) \land n==|empYdes|$
$\newline$
$  I : 0 \leq i \leq n \land n==|empYdes| \land (\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) $
$\newline$
$ B: i < n $
$\newline$
$  cota : n-1$
$\newline$
$ fv: i $

$ \\ P_c \land B \implica I :$ Por $P_c$ sabemos que $i==1$ y por $B$ sabemos que $i < n$, lo que implica $0 \leq i \leq n$. También, dado que $i==1$, lo que nos queda que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0] ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) $. Ahora, preguntar eso es lo mismo que preguntar $snd(empleadosL(this)_0) \leq snd(empleadosL(this)_{vago})$, y como sabemos por $P_c$ que $vago == 0$, nos queda $\newline snd(empleadosL(this)_0) \leq snd(empleadosL(this)_0)$; que es una verdad (en particular, son iguales). Entonces puedo decir que $ P_c \land B \Rightarrow I :$.
$\newline$
$\\ I \land \neg B \implica Q_c :$ Por $\neg B$ sabemos que $i\geq n$ y por $I$ sabemos que $i \leq n$, entonces $i==n$. También sabemos por $I$ que $n==|empYdes|$, lo que nos queda que $i==|empYdes|$. Por $I$ sabemos que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ y por lo dicho recién sobre $i$, podemos decir que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0..|empYdes|) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$; y entonces nos queda que $I \land \neg B \implica Q_c $
$\newline$
$\\ I \land cota < fv \implica \neg B :$ Esto es lo mismo que decir que si se cumple el invariante y $n-1 < i$ entonces se niega la guarda. Sabemos que $i \in [0..n]$, lo que nos deja un único caso para que $n-1<i$, dados que son enteros, y es que sean iguales. Entonces, como $i==n$ y $n \nless n$, la guarda no se cumple.


\subsection{Demostración del problema 'candidatosAEmpleadosDelMesL'}


$ \\ P_c : emp==empleadoConMasVentas(this) \land n==|emp| \land i==0 \land res==[]$
$\newline$
$  Q_c : i==n \land (\forall j \selec [0..n) ) |combosDelEmpleado(this,emp[j])|==maxCantCombos(this) \Leftrightarrow emp[j] \in res$
$\newline$
$  I : 0 \leq i \leq n \land (\forall j \selec [0..i) ) ((|combosDelEmpleado(this,emp[j])|==maxCantCombos(this) \Rightarrow emp[j] \in res) \land (|combosDelEmpleado(this,emp[j])| \neq maxCantCombos(this) \Rightarrow emp[j] \not\in res))$   
$\newline$
$ B: i < n $
$\newline$
$  cota : n-1$
$\newline$
$ fv: i $

$ \\ P_c \land B \implica I :$ Por $P_c$ sabemos que $i==0$  por lo tanto vale que $0 \leq i \leq n$ pues $0 \leq n$ por ser $n$ la longitud de una lista. También, dado que $i==0$, $[0..i)$ es lo mismo que $[]$, entonces $(\forall j \selec [0..i) ) ((|combosDelEmpleado(this,emp[j])|==maxCantCombos(this) \Rightarrow emp[j] \in res) \land (|combosDelEmpleado(this,emp[j])| \neq maxCantCombos(this) \Rightarrow emp[j] \not\in res))$ va a ser cierto pues estoy recorriendo una lista vacía. Luego, puedo decir que $ P_c \land B \Rightarrow I :$.
$\newline$
$\\ I \land \neg B \implica Q_c :$ Por $\neg B$ sabemos que $i \geq n$ y por $I$ sabemos que $i \leq n$, entonces $i==n$. Si $i==n$, por $I$, $(\forall j \selec [0..n) ) ((|combosDelEmpleado(this,emp[j])|==maxCantCombos(this) \Rightarrow emp[j] \in res) \land (|combosDelEmpleado(this,emp[j])| \newline \neq maxCantCombos(this) \Rightarrow emp[j] \not\in res))$. Pero como $(P \Rightarrow Q) \land (\neg P \Rightarrow \neg Q)$ es lo mismo que $(P \Rightarrow Q) \land (Q \Rightarrow P)$ (ya que $\neg P \Rightarrow \neg Q$ es lo mismo que $\neg  \neq Q \Rightarrow \neg  \neq P$ que es lo mismo que $Q \Rightarrow P$), luego tenemos que $(\forall j \selec [0..n) ) ((|combosDelEmpleado(this,emp[j])|==maxCantCombos(this) \Rightarrow emp[j] \in res) \land (|combosDelEmpleado(this,emp[j])| \newline == maxCantCombos(this) \Leftarrow emp[j] \in res))$, es decir $(\forall j \selec [0..n) ) |combosDelEmpleado(this,emp[j])|== \newline maxCantCombos(this) \Leftrightarrow emp[j] \in res$
$\newline$
$\\ I \land cota < fv \implica \neg B :$ Por $I$ sabemos que $i \in [0..n]$ y si $cota < fv$, esto quiere decir que $n-1 < i$, que es lo mismo que $n \leq i$ pues $n$ e $i$ son numeros naturales. Entonces si $i \leq n$ y $n \leq i$, resulta $i==n$ con lo cual negamos la $B$ pues este decía que $i<n$.

\subsection{Demostración del problema 'agregarComboAlPedidoL'}


$ \\ P_c : i==0 \land j==0 \land m==|_ ventas|\land n==pre(n) \land c==pre(c)$
$\newline$
$  Q_c : i==m \land p==ventasL(this)[j] \land numeroP(ventasL(this)[j]==n$
$\newline$
$  I : 0 \leq i \leq m \land ((p==ventasL(this)[j] \land numeroP(ventasL(this)[j]==n \land (\exists v \leftarrow ventas(this)) v.numeroP()==n) \lor (\forall k \leftarrow [0..i)) ventasL(this).numeroP \neq n) $
$\newline$
$ B: i < m $
$\newline$
$  cota : m-1$
$\newline$
$ fv: i $

$ \\ P_c \land B \implica I :$ Por $P_c$ sabemos que $i==0$ y por $B$ sabemos que $i < m$, lo que implica $0 \leq i \leq m$. También, dado que $i==1$, lo que nos queda que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0] ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago}) $. Ahora, preguntar eso es lo mismo que preguntar $snd(empleadosL(this)_0) \leq snd(empleadosL(this)_{vago})$, y como sabemos por $P_c$ que $vago == 0$, nos queda $\newline snd(empleadosL(this)_0) \leq snd(empleadosL(this)_0)$; que es una verdad (en particular, son iguales). Entonces puedo decir que $ P_c \land B \Rightarrow I :$.
$\newline$
$\\ I \land \neg B \implica Q_c :$ Por $\neg B$ sabemos que $i\geq n$ y por $I$ sabemos que $i \leq n$, entonces $i==n$. También sabemos por $I$ que $n==|empYdes|$, lo que nos queda que $i==|empYdes|$. Por $I$ sabemos que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ y por lo dicho recién sobre $i$, podemos decir que $(\forall j \selec [0..i) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$ es lo mismo que $(\forall j \selec [0..|empYdes|) ) 	snd(empleadosL(this)_j) \leq snd(empleadosL(this)_{vago})$; y entonces nos queda que $I \land \neg B \implica Q_c $
$\newline$
$\\ I \land cota < fv \implica \neg B :$ Esto es lo mismo que decir que si se cumple el invariante y $n-1 < i$ entonces se niega la guarda. Sabemos que $i \in [0..n]$, lo que nos deja un único caso para que $n-1<i$, dados que son enteros, y es que sean iguales. Entonces, como $i==n$ y $n \nless n$, la guarda no se cumple.

\end{document} %Terminé!

